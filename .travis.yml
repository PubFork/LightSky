language: cpp
sudo: required
dist: trusty
compiler:
    - clang
    - gcc

git:
    submodules: true

branches:
    only:
        - master
    
before_install:
    - sudo apt-get update -qq
    - sudo apt-get install -y libsdl2-dev libfreeimage-dev libassimp-dev libfreetype6-dev libosmesa6-dev libboost-regex-dev libglm-dev
    
before_script:
    - git checkout master
    - git submodule init
    - git submodule foreach git checkout master
    - mkdir build
    - cd build
    - cmake .. -G"Unix Makefiles"

script:
    make
